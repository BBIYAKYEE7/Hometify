<!DOCTYPE html>
<html>
<head>
  <title>홈페이지</title>
  <style>
    /* 기본 스타일 초기화로 불필요한 여백 제거 */
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden; /* 스크롤 바 숨김 */
    }

    /* 전체 화면 비율 설정 */
    .full-screen {
      width: 100vw;
      height: 100vh;
      background-color: #f0f0f0; /* 시각화를 위한 배경색 설정 */
      display: flex;
      flex-direction: row; /* 가로로 배치 */
    }

    /* 395 * 1080 비율 화면 영역 */
    .left-section {
      flex: 395; /* 가로 영역 너비를 395로 지정 */
      height: 100%;
      background-color: #D9D9D9; /* 시각화를 위한 배경색 설정 */
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* 세로 상단 정렬 */
      align-items: center; /* 가로 중앙 정렬 */
      padding: 20px;
    }

    /* 내용 스타일 */
    .content {
      font-size: 24px;
      margin: 5px 0; /* 상하 여백을 조정 */
    }

    /* 오른쪽 영역 스타일 */
    .right-section {
      flex: 1525; /* 가로 영역 너비를 1525로 지정 */
      height: 100%;
      background-color: #F5F5F5; /* 시각화를 위한 배경색 설정 */
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end; /* 세로 하단 정렬 */
      align-items: stretch; /* 가로를 꽉 채우도록 설정 */
      position: relative; /* 이모지 팝업의 위치를 기준으로 설정 */
      overflow-y: hidden; /* 스크롤 바 숨김 */
    }

    /* Hometify 제목 스타일 */
    .title {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    /* 반가워요 문구 스타일 */
    .welcome-msg {
      font-size: 24px;
      font-weight: bold;
      margin-top: auto; /* 아래쪽으로 정렬 */
    }

    /* 로그아웃 문구 스타일 */
    .logout-msg {
      font-size: 16px;
      color: #666; /* 회색으로 설정 */
      margin-top: 5px;
    }

    /* 마이페이지 문구 스타일 */
    .mypage-msg {
      font-size: 14px;
      color: #666; /* 회색으로 설정 */
      margin-top: 5px;
    }

    /* 텍스트 박스 컨테이너 스타일 */
    .text-box-container {
      position: relative;
    }

    /* 텍스트 박스 스타일 */
    .text-box {
      width: 100%;
      height: auto; /* 높이를 글자만큼으로 설정 */
      min-height: 30px; /* 최소 높이 설정 (글자가 없어도 최소 높이를 가짐) */
      background-color: #fff; /* 흰색 배경 */
      padding: 10px;
      border-radius: 20px; /* 둥근 직사각형 모양 설정 */
      margin-top: 10px; /* 텍스트 박스를 아래로 내림 */
      margin-bottom: 40px; /* 텍스트 박스의 아래 공간 확보 */
      resize: none; /* 사용자 크기 조정 비활성화 */
      border: 2px solid #000; /* 검정색 테두리 설정 */
      outline: none; /* 포커스 효과 제거 */
      box-sizing: border-box; /* 테두리를 기준으로 크기 계산 */
    }

    /* 스타일링된 풍선 모양 컨테이너 */
    .message-bubble-container {
      display: flex;
      flex-direction: column;
      align-items: flex-start; /* 풍선을 왼쪽 정렬 */
    }

    .message-bubble {
      background-color: #31B1F9;
      border-radius: 20px;
      padding: 10px;
      max-width: 70%;
      margin-bottom: 10px;
      word-wrap: break-word; /* 글자가 너무 길어질 경우 자동으로 줄바꿈 */
    }

    /* 메시지 텍스트 스타일 */
    .message-text {
      font-size: 16px;
      color: #000;
      margin: 0;
    }

    /* 스크롤 가능한 컨테이너 */
    .message-scroll-container {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      display: flex;
      flex-direction: column-reverse; /* 새로운 메시지가 위로 올라가도록 역순으로 배치 */
    }
  </style>
</head>
<body>
  <div class="full-screen">
    <div class="left-section">
      <!-- 왼쪽 영역에 제목과 메뉴를 나열합니다. -->
      <h1 class="title">Hometify</h1>
      <div class="content">
        <p>메인</p>
        <p>분양정보</p>
        <p>커뮤니티</p>
      </div>
      <div class="welcome-msg">반가워요000님</div>
      <div class="mypage-msg">마이페이지</div>
      <div class="logout-msg">로그아웃</div>
    </div>
    <div class="right-section">
      <!-- 오른쪽 영역에 들어갈 내용을 추가하세요 -->
      <div class="message-scroll-container">
        <div class="message-bubble-container" id="message-container"></div>
      </div>
      <div class="text-box-container">
        <textarea class="text-box" id="input-box" placeholder="용인시민을 위해서 한마디를 남겨보세요!" autocomplete="off"></textarea>
      </div>
    </div>
  </div>

  <script>
    // 입력된 텍스트가 엔터를 칠 때마다 메시지 풍선 안에 나타나도록 JavaScript 코드 추가
    const inputBox = document.getElementById('input-box');
    const messageContainer = document.getElementById('message-container');

    // Offensive words list (add more if needed)
    const offensiveWords = ['시발', '병신', '개새끼', '개새기', '개새', '애미', '뒤져라', '미친'];

    inputBox.addEventListener('keyup', function(event) {
      if (event.key === 'Enter') {
        let inputText = event.target.value;
        event.target.value = ''; // Clear the text box after pressing Enter

        // Filter offensive words
        offensiveWords.forEach(word => {
          const regex = new RegExp(word, 'gi');
          inputText = inputText.replace(regex, '***');
        });

        const messageBubbleContainer = document.createElement('div');
        messageBubbleContainer.classList.add('message-bubble-container');
        const messageBubble = document.createElement('div');
        messageBubble.classList.add('message-bubble');
        const messageText = document.createElement('p');
        messageText.classList.add('message-text');
        messageText.textContent = inputText;
        messageBubble.appendChild(messageText);
        messageBubbleContainer.appendChild(messageBubble);
        messageContainer.appendChild(messageBubbleContainer);

        // Scroll to the top to show the latest message at the bottom
        messageContainer.scrollTop = 0;

        // 자연스럽게 풍선 크기를 조절
        const bubbleWidth = messageText.offsetWidth + 40; // 텍스트 너비에 여백 추가
        messageBubble.style.maxWidth = `${bubbleWidth}px`;

        // 메시지 풍선 간격을 위한 공간 추가
        const spaceDiv = document.createElement('div');
        spaceDiv.style.height = '10px';
        messageContainer.appendChild(spaceDiv);
      }
    });
  </script>
</body>
</html>
